# 2019-10-04

board 폴더를 만든다.

(프로젝트 생성) 터미널 창에 django-admin startproject board . 을 입력한다.

git init을 입력한다

.gitignore 파일을 만들어준다.

gitignore.io에 들어가서 window python visualstudiocode web을 생성해서 입력해준다.

git commit -m "프로젝트 생성"

(app 생성)django-admin startapp todos

board프로젝트의 settings에 todos앱을 추가해준다.

*from* django.urls *import* path, include

path('todos/', include('todos.urls')) => todos라는 url이 들어오면 todos에 있는 url로 보내서 처리해줘

이제 todos의 urls.py를 만들어주고 그 안에 urlpatterns = [path('', views.index),] 를 만든다.

-> views안에 index함수를 실행해서 보여준다.

views에 index 함수를 만든다

base.html만들고 block body를 열어준다

index.html에서 열려있는 block body로 들어가 원하는 모습을 보여준다.

git commit -m "todo앱 기본 구성"



이제 create 로직을 만들어보자

create에 사용할 url path를 2개 만들어준다.(new/, create/)

view에 new, create 함수를 만든다.

models.py에 모델을 만든다. class Todo(models.Model)

python manage.py makemigrations -> 변환

python manage.py migrate -> 반영



git add todos/migrations/0001_initial.py

git add todos/models.py

git add db.sqlite3

git commit -m "model 선언 & migrate"

git log --oneline



new.html 만들고 form 태그 안에 input태그로 추가할 내용들을 넣어준다.

get과 post의 차이는 get은 가져오는거고 post는 보내는거(데이터를 보낼 땐 post를 쓴다.)

post를 사용할 땐 {% *csrf_token* %}를 넣어줘야한다.



views에서 create를 만든다. 

objects.create() -> objects안에 create()라는 함수가 있다. save() 까지 들어있는 함수 BUT, save()를 따로 쓰는거도 나중에 필요하니 이해하고 있어야 한다.



모델을 수정하면 수정할 때 마다 makemigrate를 다시 해줘야한다. 그래서 한번 만든 모델은 다시 수정하는 일이 없도록 한다.

index함수에 todos를 보여준다.

```python
{% extends 'base.html' %}
{% block body %}
  <h1>index</h1>
  {% for todo in todos %}
    <h5>{{todo.author}}/{{todo.title}} - {{todo.due_date}}</h5>
    <a href="/todos/{{todo.id}}/delete/"">삭제</a>
  {% endfor %}
{% endblock %}
```

url에 가서 app_name을 설정해주고 new path에 name을 달아준다.

delete에도 name을 달아주고 경로를 바꿔준다.

```
    <a href="{% url 'todos:delete' todo.id %}">삭제</a>
```

 git commit -m "name spacing"



-----점심시간-----

rest full한 api, rest full한 url구성  원리를 잘 알아놔야 한다.

